(()=>{"use strict";const e=new THREE.CubeGeometry(.5,.5,.5),n=new THREE.SphereGeometry(.3,.3,.3),t=new THREE.ConeGeometry(.5,.5,.5),o=new THREE.CylinderGeometry(.5,.5,.5,.5),a=function(e){var n=[];return n.push(e.frontHead),n.push(e.body),n.push(e.backPart),n.push(e.leftWing),n.push(e.rightWing),console.log(n),n},i=function(e){var n=[];return n.push(e.frontHeadColor),n.push(e.bodyColor),n.push(e.backPartColor),n.push(e.leftWingColor),n.push(e.rightWingColor),n},s=function(a,i){for(var s=new THREE.Group,l=[0,0,0,-.5,.5],r=[.5,0,-.5,0,0],d=[0,0,0,0,0],c=[],h=0;h<a.length;h++){console.log(i[h]);let p=parseInt(i[h]);var g=new THREE.MeshBasicMaterial({color:p});"cone"==a[h]?c=new THREE.Mesh(t,g):"cube"==a[h]?c=new THREE.Mesh(e,g):"sphere"==a[h]?c=new THREE.Mesh(n,g):"cylinder"==a[h]&&(c=new THREE.Mesh(o,g)),c.position.x=l[h],c.position.y=r[h],c.position.z=d[h],s.add(c)}return s};var l,r=[],d=[],c=[],h=[],g=[];const p={init:function(){fetch("http://localhost/ships").then((e=>e.json())).then((e=>{console.log(e),p.displaySpaceShips(e)})).catch((e=>{console.error(e)}))},displaySpaceShips:function(e){if(0==e.length)document.getElementById("spaceShipsListDiv").innerHTML="\n                <div class'spaceShipsCards' id=\"emptyDbMessageDiv\">\n                    <h2>There are no space ships in the database</h2>\n                    <h2>please make a space ship and publish it</h2>\n                </div>\n                ";else{!function(e){for(var n=0;n<e.length;n++)document.getElementById("spaceShipsListDiv").innerHTML+=`\n             <div class="spaceShipContainer">\n                <h2 class="contentTitle">${e[n].name}</h2>\n                <button class="deleteBtn" id="${e[n].id}">Delete</button>\n                <editBtn class="editBtn" id="${e[n].id}">Edit</editBtn>\n                <canvas id="canvas${e[n].id}"></canvas>\n             </div>\n             `}(l=e);for(var n=0;n<l.length;n++){console.log(l[n].name),g[n]=new THREE.Group,c[n]=new THREE.Scene,c[n].background=new THREE.Color(851999),d[n]=new THREE.PerspectiveCamera(75,1,.1,10),d[n].position.z=2,r[n]=document.getElementById("canvas"+l[n].id),h[n]=new THREE.WebGLRenderer({canvas:r[n]}),h[n].setSize(200,200);var t=a(l[n]),o=i(l[n]),p=s(t,o);g[n].add(p),c[n].add(g[n])}var u=0,m=l.length-1;function E(){requestAnimationFrame(E),u>m&&(u=0),g[u].rotation.x+=.02,g[u].rotation.y+=.02,h[u].render(c[u],d[u]),u++}E(),this.addSpaceShipsListeners()}},addSpaceShipsListeners:function(){for(var e=document.getElementsByClassName("deleteBtn"),n=0;n<e.length;n++)e[n].addEventListener("click",(function(){var e;console.log(this.id),e=this.id,fetch(`http://localhost/DeleteShips/${e}`,{method:"DELETE"}).then((e=>e.json())).then((e=>{console.log(e)})).catch((e=>{console.error(e)}))}));var t=document.getElementsByClassName("editBtn");for(n=0;n<t.length;n++)t[n].addEventListener("click",(function(){console.log(this.id)}))},getFormInfoAndSendTosever:function(){const e={spaceShipName:document.getElementById("spaceShipName").value,frontHead:[document.getElementById("frontHeadShap").value,document.getElementById("frontHeadColor").value],body:[document.getElementById("frontHeadShap").value,document.getElementById("bodyColor").value],backPart:[document.getElementById("backEngineShap").value,document.getElementById("backEngineColor").value],leftWing:[document.getElementById("leftWingShap").value,document.getElementById("leftWingColor").value],rightWing:[document.getElementById("rightWingShap").value,document.getElementById("rightWingColor").value]};var n;n=e,fetch("http://localhost/PostShips",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.spaceShipName,frontHead:n.frontHead[0],body:n.body[0],backPart:n.backPart[0],leftWing:n.leftWing[0],rightWing:n.rightWing[0],frontHeadColor:n.frontHead[1],bodyColor:n.body[1],backPartColor:n.backPart[1],leftWingColor:n.leftWing[1],rightWingColor:n.rightWing[1]})}).then((e=>e.json())).then((e=>console.log(e))).catch((e=>console.error(e))),console.log("done")}};for(var u=document.getElementsByClassName("navBtns"),m=0;m<u.length;m++)u[m].addEventListener("click",(function(e){e.preventDefault(),console.log("clicked");for(var n=0;n<u.length;n++)u[n].classList.remove("navSelected"),document.getElementById(u[n].id+"Div").style.display="none";document.getElementById(this.id+"Div").style.display="block",this.classList.add("navSelected")}));p.init(),document.getElementById("generateBtn").addEventListener("click",(function(e){e.preventDefault(),p.getFormInfoAndSendTosever()}))})();